### 虚拟内存

- 虚拟内存（virtual memory）是什么？

  > 从概念上可以将虚拟内存看成是存储在**磁盘**上的N个连续的字节数组

  ![image-20210714170655407](https://i.loli.net/2021/07/14/FVg2oY8Ahjfleqt.png)

- 虚拟内存的三大作用

  - 作为缓存的工具

    - 虚拟页面的集合：

      - 未分配的：VM系统还未分配页，因此没有数据与未分配的块有关联，**不占用磁盘空间**
      - 缓存的：该页已经由VM系统分配，并且缓存到主存（DRAM）中
      - 未缓存的：该页已经由VM系统分配，但还未缓存到主存中（在磁盘里）

    - 页表（Page Table）：用于虚拟**页**和物理**页**之间的映射

      > Notes：注意页表并不是执行**地址翻译**的操作，地址翻译由MMU执行，然后得到对应的物理地址，定位到页表中的表项

      ![image-20210714172048288](https://i.loli.net/2021/07/14/oUyxtbIgV5s8fui.png)

  - 作为内存管理的工具

  - 作为内存保护的工具